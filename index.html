<!DOCTYPE html>
<html>
<head>
    <title>Andhra Pradesh Dealers Map</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <style>
        #mapid { height: 90vh; }
        .button-group {
            text-align: center;
            margin: 10px;
        }
        .switch-button {
            background-color: #007bff;
            border: none;
            color: white;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="button-group">
        <button class="switch-button" onclick="loadTillerMap()">Tillers</button>
        <button class="switch-button" onclick="loadWeederMap()">Weeders</button>
    </div>
    <div id="mapid"></div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script>
        const tillerData = [
    [17.6793, 82.2189, "POTHURU SRINIVASA RAO - Marriwada"],
    [18.1897, 82.8706, "KILAGADA SIMHACHALAM - Gadugupalle"],
    [18.7521, 83.3756, "POLA VENKATA RATNAM - Pedbondepalli"],
    [18.6948, 83.6237, "YANDRRAPU SIVANAIDU - Pedbondepalli"],
    [18.6496, 83.5030, "KOLAKA DORABABU - Gorada"],
    [18.7521, 83.3756, "CHUKKA ADHINARAYANA - Pedbondepalli"],
    [18.7650, 83.4000, "DASARI RAMOHAN RAO - Latchirajupet"],
    [17.2031, 82.2425, "PENUMALLI ARUNA KUMARI - Ramanakkapeta"],
    [18.7500, 83.3000, "MANTRABUDDI JAGADEESH - Santhoshapuram"],
    [18.7262, 83.4707, "RUTTALA SUBBI NAIDU - Naguru"],
    [18.8570, 83.5025, "SEEMALA SAAYIB - Nondrukona"],
    [18.0136, 82.7752, "PAADI BALANNA - Dabbagaruvu"],
    [18.0353, 82.7756, "KAMBIDI GNANA PRAKASH - Gochchari"],
    [18.6496, 83.5030, "THOYAKA SINDI - Gorada"],
    [18.0464, 82.7307, "PARAADANI TRINADH - Barapalle"],
    [18.1182, 82.7400, "DHANASANI SIVARAMAKRISHNAM NAIDU - Chatraiputtu"],
    [18.7521, 83.3756, "MUVVALA SIMHACHELAM - Pedabondepalle"],
    [18.7521, 83.3756, "VANGAPANDU CHIRANJEEVULU - Pedabondapalle"],
    [18.7500, 83.3000, "DATTI APPALANARSAMMA - Santhoshapuram"],
    [18.1195, 82.7093, "VAMPURU APPALARAJU - Marriputtu"],
    [18.4165, 83.9005, "RANDHI LAKSHMAN RAO - Alikam"],
    [18.6522, 83.5260, "ALUJU SRIHARIRAO - Kimmi"]
];

        const weederData = [
            [17.75, 82.4, "MOTTADAM PAVANA LAXMI - Gondipakalu"],
            [18.3, 83.7, "NAGIREDDY NAGABHUSHANA RAO - Viswanadhapuram"],
            [18.7667, 83.4167, "YADRAPU SUGUNA KUMARI - Pedabondapalle"],
            [18.7, 83.5, "GUNTREDDY VISHNU MURTHY - Kambara"],
            [18.65, 83.3, "GOLLA SRINIVASARAO - Narasipuram"],
            [18.8, 83.2, "PATTIKA JANARDANA - Kidigesu"]
            // Add remaining 16 weeder entries here
        ];

        let map = L.map('mapid').setView([17.5, 82.5], 7);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: 'Map data &copy; OpenStreetMap contributors'
        }).addTo(map);

        let markerCluster;

        function clearMarkers() {
            if (markerCluster) {
                map.removeLayer(markerCluster);
            }
        }

        function loadTillerMap() {
            clearMarkers();
            markerCluster = L.markerClusterGroup();
            tillerData.forEach(([lat, lon, label]) => {
                let marker = L.marker([lat, lon]).bindPopup(label);
                markerCluster.addLayer(marker);
            });
            map.addLayer(markerCluster);
        }

        function loadWeederMap() {
            clearMarkers();
            markerCluster = L.markerClusterGroup();
            weederData.forEach(([lat, lon, label]) => {
                let marker = L.marker([lat, lon]).bindPopup(label);
                markerCluster.addLayer(marker);
            });
            map.addLayer(markerCluster);
        }

        // Load tiller map by default
        loadTillerMap();
    </script>
</body>
</html>
