<!DOCTYPE html>
<html>
<head>
    <title>Andhra Pradesh Dealers Map</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <style>
        #mapid { height: 90vh; }
        .button-group {
            text-align: center;
            margin: 10px;
        }
        .switch-button {
            background-color: #007bff;
            border: none;
            color: white;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="button-group">
        <button class="switch-button" onclick="loadTillerMap()">Tillers</button>
        <button class="switch-button" onclick="loadWeederMap()">Weeders</button>
    </div>
    <div id="mapid"></div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script>
        const tillerData = [
            [17.9211, 82.3322, "POTHURU SRINIVASA RAO - Marriwada"],
            [18.0358, 82.5076, "KILAGADA SIMHACHALAM - Gadugupalle"],
            [18.7667, 83.4167, "POLA VENKATA RATNAM - Pedbondepalli"],
            [18.6, 83.5667, "KOLAKA DORABABU - Gorada"],
            [18.75, 83.3, "MANTRABUDDI JAGADEESH - Santhoshapuram"],
            [17.0, 82.25, "PENUMALLI ARUNA KUMARI - Ramanakkapeta"]
            // Add remaining 24 tiller entries here
        ];

        const weederData = [
            [17.75, 82.4, "MOTTADAM PAVANA LAXMI - Gondipakalu"],
            [18.3, 83.7, "NAGIREDDY NAGABHUSHANA RAO - Viswanadhapuram"],
            [18.7667, 83.4167, "YADRAPU SUGUNA KUMARI - Pedabondapalle"],
            [18.7, 83.5, "GUNTREDDY VISHNU MURTHY - Kambara"],
            [18.65, 83.3, "GOLLA SRINIVASARAO - Narasipuram"],
            [18.8, 83.2, "PATTIKA JANARDANA - Kidigesu"]
            // Add remaining 16 weeder entries here
        ];

        let map = L.map('mapid').setView([17.5, 82.5], 7);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: 'Map data &copy; OpenStreetMap contributors'
        }).addTo(map);

        let markerCluster;

        function clearMarkers() {
            if (markerCluster) {
                map.removeLayer(markerCluster);
            }
        }

        function loadTillerMap() {
            clearMarkers();
            markerCluster = L.markerClusterGroup();
            tillerData.forEach(([lat, lon, label]) => {
                let marker = L.marker([lat, lon]).bindPopup(label);
                markerCluster.addLayer(marker);
            });
            map.addLayer(markerCluster);
        }

        function loadWeederMap() {
            clearMarkers();
            markerCluster = L.markerClusterGroup();
            weederData.forEach(([lat, lon, label]) => {
                let marker = L.marker([lat, lon]).bindPopup(label);
                markerCluster.addLayer(marker);
            });
            map.addLayer(markerCluster);
        }

        // Load tiller map by default
        loadTillerMap();
    </script>
</body>
</html>
